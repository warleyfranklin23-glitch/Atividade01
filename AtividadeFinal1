using System;
using System.Collections.Generic;

class GerenciadorDeTarefas
{
    static void Main()
    {
        List<string> tarefas = new List<string>();  // Lista para armazenar as tarefas
        List<bool> statusTarefas = new List<bool>();  // Lista para armazenar o status das tarefas (concluída ou não)
        bool continuar = true;

        while (continuar)
        {
            // Exibe o menu
            Console.Clear();
            Console.WriteLine("Gerenciador de Tarefas");
            Console.WriteLine($"Número de Tarefas: {tarefas.Count}");
            Console.WriteLine("1. Adicionar Tarefa");
            Console.WriteLine("2. Listar Tarefas");
            Console.WriteLine("3. Marcar Tarefa como Concluída");
            Console.WriteLine("4. Remover Tarefa");
            Console.WriteLine("5. Sair");
            Console.Write("Escolha uma opção: ");

            // Lê a opção do usuário
            string opcao = Console.ReadLine();

            switch (opcao)
            {
                case "1":
                    AdicionarTarefa(tarefas, statusTarefas);
                    break;

                case "2":
                    ListarTarefas(tarefas, statusTarefas);
                    break;

                case "3":
                    MarcarTarefaConcluida(tarefas, statusTarefas);
                    break;

                case "4":
                    RemoverTarefa(tarefas, statusTarefas);
                    break;

                case "5":
                    Console.WriteLine("Saindo do programa. Até logo!");
                    continuar = false;
                    break;

                default:
                    Console.WriteLine("Opção inválida! Pressione qualquer tecla para tentar novamente.");
                    Console.ReadKey();
                    break;
            }
        }
    }

    static void AdicionarTarefa(List<string> tarefas, List<bool> statusTarefas)
    {
        Console.Clear();
        Console.Write("Digite o nome da tarefa: ");
        string tarefa = Console.ReadLine();

        if (tarefas.Contains(tarefa))
        {
            Console.WriteLine("Tarefa já cadastrada!");
        }
        else
        {
            tarefas.Add(tarefa);
            statusTarefas.Add(false);  // Tarefa adicionada com status "não concluída"
            Console.WriteLine("Tarefa adicionada com sucesso!");
        }
        Console.WriteLine("Pressione qualquer tecla para voltar ao menu.");
        Console.ReadKey();
    }

    static void ListarTarefas(List<string> tarefas, List<bool> statusTarefas)
    {
        Console.Clear();
        if (tarefas.Count == 0)
        {
            Console.WriteLine("Nenhuma tarefa cadastrada.");
        }
        else
        {
            Console.WriteLine("Lista de Tarefas:");
            for (int i = 0; i < tarefas.Count; i++)
            {
                string status = statusTarefas[i] ? "[Concluída]" : "[Pendente]";
                Console.WriteLine($"{i + 1}. {tarefas[i]} {status}");
            }
        }
        Console.WriteLine("Pressione qualquer tecla para voltar ao menu.");
        Console.ReadKey();
    }

    static void MarcarTarefaConcluida(List<string> tarefas, List<bool> statusTarefas)
    {
        Console.Clear();
        ListarTarefas(tarefas, statusTarefas);

        if (tarefas.Count > 0)
        {
            Console.Write("Digite o número da tarefa que deseja marcar como concluída: ");
            int numero;
            bool numeroValido = int.TryParse(Console.ReadLine(), out numero);

            if (numeroValido && numero > 0 && numero <= tarefas.Count)
            {
                statusTarefas[numero - 1] = true;
                Console.WriteLine("Tarefa marcada como concluída!");
            }
            else
            {
                Console.WriteLine("Número de tarefa inválido.");
            }
        }
        Console.WriteLine("Pressione qualquer tecla para voltar ao menu.");
        Console.ReadKey();
    }

    static void RemoverTarefa(List<string> tarefas, List<bool> statusTarefas)
    {
        Console.Clear();
        ListarTarefas(tarefas, statusTarefas);

        if (tarefas.Count > 0)
        {
            Console.Write("Digite o número da tarefa que deseja remover: ");
            int numero;
            bool numeroValido = int.TryParse(Console.ReadLine(), out numero);

            if (numeroValido && numero > 0 && numero <= tarefas.Count)
            {
                tarefas.RemoveAt(numero - 1);
                statusTarefas.RemoveAt(numero - 1);
                Console.WriteLine("Tarefa removida com sucesso!");
            }
            else
            {
                Console.WriteLine("Número de tarefa inválido.");
            }
        }
        Console.WriteLine("Pressione qualquer tecla para voltar ao menu.");
        Console.ReadKey();
    }
}
